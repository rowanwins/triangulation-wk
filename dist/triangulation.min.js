!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n=n||self).triangulation=t()}(this,function(){"use strict";return function(n){const t=[];let e=n[0].length-1;const o=e-3;let r=0,f=0;for(;f<o;f++)for(;r<e;r++)if(l(r)&&s(r)){d(r);break}return t;function u(t,e,o){return n[0][t][0]*(n[0][e][1]-n[0][o][1])+n[0][e][0]*(n[0][o][1]-n[0][t][1])+n[0][o][0]*(n[0][t][1]-n[0][e][1])}function i(n){let t=n-1,o=n+1;return-1===t&&(t=e-1),o===e&&(o=0),u(t,n,o)>0?1:-1}function c(n,t,e){const o=u(n,t,e);return o>0?1:o<0?-1:0}function l(t){return i(t)*i(function(){let t=0,o=n[0][0][1];for(let r=0;r<e;r++)o>n[0][r][1]&&(o=n[0][r][1],t=r);return t}())>0?1:0}function s(n){let t=n-1,o=n+1;-1===t&&(t=e-1),o===e&&(o=0);const r=c(n,t,o);for(let f=0;f<e;f++)if(f!==n&&f!==t&&f!==o&&r*c(n,t,f)>=0&&r*c(t,o,f)>=0&&r*c(o,n,f)>=0)return 0;return 1}function d(o){e--,function(o){const r=0===o?e-1:o-1,f=o!==e?o+1:0;t.push([[n[0][r][0],n[0][r][1]],[n[0][o][0],n[0][o][1]],[n[0][f][0],n[0][f][1]]])}(r);for(let t=o;t<e;t++)n[0][t][0]=n[0][t+1][0],n[0][t][1]=n[0][t+1][1]}}});
