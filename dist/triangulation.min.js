!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n=n||self).triangulation=t()}(this,function(){"use strict";return function(n){const t=n[0],e=[];let o=t.length-1;const r=o-2;let u=0,f=0,i=0,c=null;for(;u<r;u++)for(f=0;f<o;f++)if(p(f)&&a(f)){h(f);break}return e;function l(n,e,o){return t[n][0]*(t[e][1]-t[o][1])+t[e][0]*(t[o][1]-t[n][1])+t[o][0]*(t[n][1]-t[e][1])}function s(n){return l(0===n?o-1:n-1,n,n!==o-1?n+1:0)>0?1:-1}function d(n,t,e){const o=l(n,t,e);return o>0?1:o<0?-1:0}function p(n){return s(n)*s(function(){let n=t[0][1];if(c===n)return i;for(let e=0;e<o;e++)n>t[e][1]&&(n=t[e][1],i=e);return c=n,i}())>0?1:0}function a(n){const t=0===n?o-1:n-1,e=n!==o-1?n+1:0,r=d(n,t,e);for(let u=0;u<o;u++)if(u!==n&&u!==t&&u!==e&&r*d(n,t,u)>=0&&r*d(t,e,u)>=0&&r*d(e,n,u)>=0)return 0;return 1}function h(n){o--,function(n){const r=0===n?o:n-1,u=n!==o?n+1:0,f=[[t[r][0],t[r][1]],[t[n][0],t[n][1]],[t[u][0],t[u][1]]];e.push(f)}(n);for(let e=n;e<o;e++)t[e][0]=t[e+1][0],t[e][1]=t[e+1][1]}}});
